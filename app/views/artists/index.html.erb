<% if current_user.try(:admin?) %>
  <%= link_to 'New Artist', new_artist_path, style: "font-weight:bold;" %>
  <div style='width:100%; border-top:solid; margin-bottom:20px; margin-top:20px;'></div>
<% end %>

<div class='row' style='margin-bottom:10px; margin-top:20px;'>
  <div class='col-md-8'>
    <p style="display:inline-block; font-weight:bold; font-size:110%; margin-right:10px;">Browse:</p>
    <% @alphabet.each do |character| %>
      <%= link_to character, artists_path(:start => character), style: 'font-weight:bold; margin-right:5px;' %>
    <% end %>
  </div>
  <div class='col-md-4'>
  </div>
</div>

<div style='width:100%; text-align:left; margin-bottom:25px;'>
  <%= search_form_for @q, html: { class: 'input-group', style: 'width:200px;'} do |f| %>
    <span class="input-group-btn">
      <button type='submit;' class="btn btn-default" type="button" style='-webkit-border-top-right-radius: 0px;-webkit-border-bottom-right-radius: 0px;-moz-border-radius-topright: 0px;-moz-border-radius-bottomright: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px; border-right:none;'><i class="fa fa-search fa-lg"></i></button>
    </span><%= f.search_field :name_cont, placeholder: 'Search...', class: 'form-control', style: 'margin-left:-1px;' %>
  <% end %>
</div>

<% if @artists.present? %>
  <div id="container">
    <% @artists.each do |artist| %>
      <div class='item panel panel-default'>
        <%= link_to image_tag(artist.image.url(:thumb)), artist %>
        <div class="panel-body">
            <p class='artist-name'><%= artist.name %></p>
          <div class="actions">
            <% if current_user.try(:admin?) %>
            <%= link_to 'Edit', edit_artist_path(artist) %>
            <%= link_to 'Destroy', artist, method: :delete, data: { confirm: 'Are you sure?' } %>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <script>
    var n = noty({
      text: '<p style="width:100%; margin-top:15px; margin-bottom:15px; text-align:center; font-weight:bold; font-size:120%;">We do not have such artist.</p>',
      layout: 'topRight',
      type: 'information',
      animation: {
        open: 'animated fadeInRight', // Animate.css class names
        close: 'animated flipOutY', // Animate.css class names
        speed: 500 // unavailable - no need
      }
    });
    </script>
<% end %>

<script>
var isotopeLaunch = function(){
  var $container = $('#container');
    // init
    $container.isotope({
      // options
      itemSelector: '.item',
      layoutMode: 'masonry',
      masonry: {
        columnWidth: 50,
        isFitWidth: true
      }
    });
};
imagesLoaded( 'img', isotopeLaunch);</script>